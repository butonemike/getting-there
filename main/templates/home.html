{% extends 'base.html' %}

{% block content %}

<title>Getting There - Home</title>

<h1>My Trips</h1>
{% if trips %}
<div name="all-trips">
    {% for trip in trips %}
        <a class="boldish blue-grey-text text-darken-4" href="alerts/{{ trip.station__id }}/{{ trip.line__id }}/">
            <div class="trip-container card-panel blue-grey lighten-5">
                <div class="trip-row row">
                    <div class="col s4">
                        <div class="pr100 flex-center">
                            <div class="hel bold mb10 my-trip-text">
                                {{ trip.station__name }}
                            </div>
                            <div class="lg-ft hel bold mb10 flex-center line-emblem line-emblem-md {% if trip.line__express %} diamond {% endif %}" style="background-color:{{ trip.line__color }};color:{{ trip.line__text_color }}">
                                <div class="line-name {% if trip.line__express %} undiamond {% endif %}">{{ trip.line__name }}</div>
                            </div> 
                            <div class="hel bold my-trip-text">
                                {{ trip.direction }}
                            </div>
                        </div>
                    </div>
                    <div class="col s4">
                        <div class="center">Next 3 trains will go here</div>    
                        <div class="center">Delay Alerts: {{ trip.alert_count }}</div>
                    </div>
                    <div class="col s4">
                        <div class="flex-center">
                            <div class="mb10 center">Latest Status</div>
                            {% if trip.resolved %}
                                <div class="mb10 resolved-alert-icon"></div>
                            {% else %}
                                <div class="mb10 unresolved-alert-icon" class="center"></div>
                            {% endif %}
                            <div class="center">As of {{ trip.updated_at }}</div>
                        </div>
                    </div>
                </div>
                    <!-- Trip Type: ({{ trip.trip_type }}) -- remove later, only here for debug feedback -->
            </div>
</div>
    {% endfor %}
</div>
{% else %}
    <p>You currently do not have any lines added to your trips. Access the All Lines page to add trips.</p>
{% endif %}

{% endblock %}